# 日志

## 总览
主要是实现以下界面，并将其中的ai功能通过rpc的方式解耦到其他服务器上面
![Alt text](image/image.png)

## 1. RPC框架部分
这是最简单的客户端、服务端流程，发送的数据就是对应的requset和response
![Alt text](../server/tools/rpc/image/image.png)


套上一层手动解析之后，使得其能够调用不同的服务和方法，新流程如下([这里学习参考的是goya-rpc的实现](https://github.com/goyas/goya-rpc))
![Alt text](../server/tools/rpc/image/image-1.png)


最后我们是使用zookeeper来当注册中心，就是客户端不必直接存储服务端的ip和接口了，向注册中心订阅该服务即可，框架流程如下
![Alt text](../server/tools/rpc/image/image-2.png)

## 2. 日志系统部分

在流对象的析构函数处自动将日志消息添加到日志系统的两个环形缓冲区内，由后台协程定时消费并写入到磁盘
![Alt text](image/image-4.png)
